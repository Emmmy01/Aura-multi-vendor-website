<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add New Product</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 p-6">
  <div class="max-w-7xl mx-auto bg-white shadow-md rounded p-6">
    <h2 class="text-2xl font-bold mb-6">üõçÔ∏è Add New Product</h2>
    
    <form action="upload_product.php" method="POST" enctype="multipart/form-data" class="grid md:grid-cols-2 gap-8">

      <!-- Left Section -->
      <div class="space-y-4">
        <p>Seller: <strong><?= htmlspecialchars($sellerName) ?></strong></p>

        <div>
          <label class="block font-medium mb-1">Product Name</label>
          <input type="text" name="name" class="w-full border p-2 rounded" required>
        </div>

        <div>
          <label class="block font-medium mb-1">Product Description</label>
          <textarea name="description" class="w-full border p-2 rounded h-24" required></textarea>
        </div>

        <div>
          <label class="block font-medium mb-1">Category</label>
          <select name="category" class="w-full border p-2 rounded" required>
            <option>Home</option>
            <option>Cloths</option>
            <option>Shoes</option>
            <option>Electronics</option>
            <option>Health and Beauty</option>
            <option>Men</option>
            <option>Women</option>
            <option>Phones And Tablets</option>
            <option>Appliances</option>
            <option>Home and Office</option>
            <option>Fashion</option>
            <option>Computing</option>
            <option>Gaming</option>
            <option>Musical Intruments</option>
            <option>Other Categories</option>
          </select>
        </div>

        <div>
          <label class="block font-medium mb-1">Quality</label>
          <select name="quality" class="w-full border p-2 rounded" required>
            <option>New</option>
            <option>Second-hand</option>
          </select>
        </div>

        <div class="flex space-x-4">
          <div class="w-1/2">
            <label class="block font-medium mb-1">Price (‚Ç¶)</label>
            <input type="number" placeholder="0.00"  name="price" class="w-full border p-2 rounded" required>
          </div>
          <div class="w-1/2">
            <label class="block font-medium mb-1">Discount (%)</label>
            <input type="number" placeholder="10"   name="discount" class="w-full border p-2 rounded">
          </div>
        </div>
        <div>
          <label for="delivery_fee" class="block text-sm font-medium text-gray-700">
            Delivery Fee (‚Ç¶)
          </label>
          <input
            type="number"
            name="delivery_fee"
            id="delivery_fee"
            step="0.01"
            min="0"
            required
            class="mt-1 block w-full px-3 py-2 bg-gray-100 rounded-lg border border-gray-300 
                   focus:outline-none focus:ring-2 focus:ring-red-500"
            placeholder="e.g. 1500.00"
          />
        </div>
      </div>

      <!-- Right Section -->
      <div class="space-y-4">
        <div>
          <label class="block font-medium mb-1">Product Images (3 max)</label>
          <input type="file" name="images[]" id="productImages" multiple accept="image/*" class="block w-full border p-2 rounded bg-gray-50" required onchange="previewImages()">
          <small id="imageCount" class="text-sm text-gray-500 mt-1 block">No images selected</small>
          <small class="text-gray-500">First image will be the cover, others for detail page.</small>
        </div>

        <div id="imagePreview" class="flex gap-4 mt-4 flex-wrap"></div>

        <div class="mb-4">
          <label for="color" class="block text-gray-700 font-medium mb-1">Color(s)</label>
          <input 
            type="text" 
            id="color" 
            name="color" 
            placeholder="e.g. black, white, red" 
            class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
          <p class="text-sm text-gray-500 mt-1">Separate multiple colors with commas.</p>
        </div>
        

        <div>
          <input type="text" name="brand" placeholder="Brand (e.g., Nike)" class="border p-2 w-full rounded">
          <label class="block font-medium mb-1">Available Sizes</label>
          <div class="flex flex-wrap gap-3">
            <label><input type="checkbox" name="sizes[]" value="S" class="mr-1"> S</label>
            <label><input type="checkbox" name="sizes[]" value="M" class="mr-1"> M</label>
            <label><input type="checkbox" name="sizes[]" value="L" class="mr-1"> L</label>
            <label><input type="checkbox" name="sizes[]" value="XL" class="mr-1"> XL</label>
            
            <label><input type="checkbox" name="sizes[]" value="30" class="mr-1"> 30</label>
            <label><input type="checkbox" name="sizes[]" value="31" class="mr-1"> 31</label>
            <label><input type="checkbox" name="sizes[]" value="40" class="mr-1"> 40</label>
            <label><input type="checkbox" name="sizes[]" value="41" class="mr-1"> 41</label>
            <label><input type="checkbox" name="sizes[]" value="30" class="mr-1"> 42</label>
            <label><input type="checkbox" name="sizes[]" value="31" class="mr-1"> 43</label>
            <label><input type="checkbox" name="sizes[]" value="40" class="mr-1"> 44</label>
            <label><input type="checkbox" name="sizes[]" value="41" class="mr-1"> 45</label>
          </div>
        </div>

        <div>
          <label class="block font-medium mb-1">Product Date</label>
          <input type="date" name="product_date" class="w-full border p-2 rounded">
        </div>
      
        <div>
          <label class="block font-medium mb-1">Bank Name</label>
          <input type="text" name="seller_bank_name" class="w-full border p-2 rounded" required>
        </div>

        <div>
          <label class="block font-medium mb-1">Account Name</label>
          <input type="text" name="seller_account_name" class="w-full border p-2 rounded" required>
        </div>

        <div>
          <label class="block font-medium mb-1">Account Number</label>
          <input type="number" name="seller_account_number" class="w-full border p-2 rounded" required>
        </div>

        <div>
          <label class="block font-medium mb-1">Whatsapp Number</label>
          <input type="number" name="seller_whatsapp" class="w-full border p-2 rounded" required>
        </div>

        <div>
          <label class="block font-medium mb-1">Sales Channel</label>
          <select name="sales_channel" class="w-full border p-2 rounded">
            <option>Only Online</option>
            <option>Outlet + Online</option>
            <option>Outlet Only</option>
          </select>
        </div>

        <div class="flex space-x-4 mt-6">
          <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700">Add Product</button>
          <button type="reset" class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Discard</button>
        </div>
      </div>
    </form>
  </div>

  <script>
    function previewImages() {
      const preview = document.getElementById("imagePreview");
      const files = document.getElementById("productImages").files;
      const countText = document.getElementById("imageCount");

      preview.innerHTML = "";
      const fileCount = files.length;

      if (fileCount > 3) {
        countText.textContent = "You can only select up to 3 images!";
        countText.classList.remove("text-gray-500");
        countText.classList.add("text-red-600");
        return;
      }

      countText.textContent = `${fileCount} image${fileCount > 1 ? 's' : ''} selected`;
      countText.classList.remove("text-red-600");
      countText.classList.add("text-gray-500");

      Array.from(files).forEach(file => {
        const reader = new FileReader();
        reader.onload = function (e) {
          const img = document.createElement("img");
          img.src = e.target.result;
          img.className = "w-24 h-24 object-cover rounded shadow border";
          preview.appendChild(img);
        };
        reader.readAsDataURL(file);
      });
    }
  </script>
</body>
</html>